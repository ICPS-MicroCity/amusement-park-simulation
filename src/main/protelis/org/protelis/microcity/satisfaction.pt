module org:protelis:microcity:satisfaction

import microcity.Queues.satisfyGuests
import microcity.Queues.satisfactionUnion
import microcity.Utils.Guests.isGuest
import microcity.Utils.Guests.satisfy
import microcity.Utils.debug

share (field <- satisfyGuests()) {
    let satisfied = foldHoodPlusSelf(field, (a, b) -> { satisfactionUnion(a, b) })
    satisfy(!satisfied.isEmpty())
    //satisfyGuests()
    satisfied
}
